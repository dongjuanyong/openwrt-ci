diff -uNr a/index.htm b/index.htm
--- a/index.htm	2020-03-13 09:12:37.245331200 +0800
+++ b/index.htm	2020-03-13 09:12:01.819215600 +0800
@@ -6,6 +6,7 @@
 
 <%
 	local fs = require "nixio.fs"
+	local ipc = require "luci.ip"
 	local util = require "luci.util"
 	local stat = require "luci.tools.status"
 	local ver = require "luci.version"
@@ -36,8 +37,8 @@
 
 	if luci.http.formvalue("status") == "1" then
 		local ntm = require "luci.model.network".init()
-		local wan = ntm:get_wannet()
-		local wan6 = ntm:get_wan6net()
+		local wan_nets = ntm:get_wan_networks()
+		local wan6_nets = ntm:get_wan6_networks()
 
 		local conn_count = tonumber(
 			fs.readfile("/proc/sys/net/netfilter/nf_conntrack_count") or "") or 0
@@ -74,31 +75,62 @@
 			wifinets   = stat.wifi_networks()
 		}
 
-		if wan then
-			rv.wan = {
-				ipaddr  = wan:ipaddr(),
-				gwaddr  = wan:gwaddr(),
-				netmask = wan:netmask(),
-				dns     = wan:dnsaddrs(),
-				expires = wan:expires(),
-				uptime  = wan:uptime(),
-				proto   = wan:proto(),
-				ifname  = wan:ifname(),
-				link    = wan:adminlink()
-			}
+		if #wan_nets > 0 then
+			local k, v
+
+			rv.wan = { }
+
+			for k, v in pairs(wan_nets) do
+				local dev = v:get_interface()
+				local link = dev and ipc.link(dev:name())
+
+				local wan_info = {
+					ipaddr  = v:ipaddr(),
+					gwaddr  = v:gwaddr(),
+					netmask = v:netmask(),
+					dns     = v:dnsaddrs(),
+					expires = v:expires(),
+					uptime  = v:uptime(),
+					proto   = v:proto(),
+					i18n    = v:get_i18n(),
+					ifname  = v:ifname(),
+					link    = v:adminlink(),
+					mac     = dev and dev:mac(),
+					type    = dev and dev:type(),
+					name    = dev and dev:get_i18n(),
+					ether   = link and link.type == 1
+				}
+
+				rv.wan[#rv.wan+1] = wan_info
+			end
 		end
 
-		if wan6 then
-			rv.wan6 = {
-				ip6addr   = wan6:ip6addr(),
-				gw6addr   = wan6:gw6addr(),
-				dns       = wan6:dns6addrs(),
-				ip6prefix = wan6:ip6prefix(),
-				uptime    = wan6:uptime(),
-				proto     = wan6:proto(),
-				ifname    = wan6:ifname(),
-				link      = wan6:adminlink()
-			}
+		if #wan6_nets > 0 then
+			local k, v
+
+			rv.wan6 = { }
+
+			for k, v in pairs(wan6_nets) do
+				local dev = v:get_interface()
+				local link = dev and ipc.link(dev:name())
+				local wan6_info = {
+					ip6addr   = v:ip6addr(),
+					gw6addr   = v:gw6addr(),
+					dns       = v:dns6addrs(),
+					ip6prefix = v:ip6prefix(),
+					uptime    = v:uptime(),
+					proto     = v:proto(),
+					i18n      = v:get_i18n(),
+					ifname    = v:ifname(),
+					link      = v:adminlink(),
+					mac       = dev and dev:mac(),
+					type      = dev and dev:type(),
+					name      = dev and dev:get_i18n(),
+					ether     = link and link.type == 1
+				}
+
+				rv.wan6[#rv.wan6+1] = wan6_info
+			end
 		end
 
 		if has_dsl then
@@ -132,7 +164,7 @@
 		var pc = Math.floor((100 / mn) * vn);
 
 		return String.format(
-			'<div style="width:200px; position:relative; border:1px solid #999999">' +
+			'<div style="width:100%%; max-width:400px; position:relative; border:1px solid #999999">' +
 				'<div style="background-color:#CCCCCC; width:%d%%; height:15px">' +
 					'<div style="position:absolute; left:0; top:0; text-align:center; width:100%%; color:#000000">' +
 						'<small>%s / %s (%d%%)</small>' +
@@ -142,6 +174,43 @@
 		);
 	}
 
+	function labelList(items, offset) {
+		var rv = [ ];
+
+		for (var i = offset || 0; i < items.length; i += 2) {
+			var label = items[i],
+			    value = items[i+1];
+
+			if (value === undefined || value === null)
+				continue;
+
+			if (label)
+				rv.push(E('strong', [label, ': ']));
+
+			rv.push(value, E('br'));
+		}
+
+		return rv;
+	}
+
+	function renderBox(title, active, childs) {
+		childs = childs || [];
+		childs.unshift(E('span', labelList(arguments, 3)));
+
+		return E('div', { class: 'ifacebox' }, [
+			E('div', { class: 'ifacebox-head center ' + (active ? 'active' : '') },
+				E('strong', title)),
+			E('div', { class: 'ifacebox-body left' }, childs)
+		]);
+	}
+
+	function renderBadge(icon, title) {
+		return E('span', { class: 'ifacebadge' }, [
+			E('img', { src: icon, title: title || '' }),
+			E('span', labelList(arguments, 2))
+		]);
+	}
+
 	function wifirate(bss, rx) {
 		var p = rx ? 'rx_' : 'tx_',
 		    s = '%.1f <%:Mbit/s%>, %d<%:MHz%>'
@@ -187,126 +256,59 @@
 			if (!(npoll++ % 5))
 				updateHosts();
 
-			var si = document.getElementById('wan4_i');
-			var ss = document.getElementById('wan4_s');
-			var ifc = info.wan;
-
-			if (ifc && ifc.ifname && ifc.proto != 'none')
-			{
-				var s = String.format(
-					'<strong><%:Type%>: </strong>%s<br />' +
-					'<strong><%:Address%>: </strong>%s<br />' +
-					'<strong><%:Netmask%>: </strong>%s<br />' +
-					'<strong><%:Gateway%>: </strong>%s<br />',
-						ifc.proto,
-						(ifc.ipaddr) ? ifc.ipaddr : '0.0.0.0',
-						(ifc.netmask && ifc.netmask != ifc.ipaddr) ? ifc.netmask : '255.255.255.255',
-						(ifc.gwaddr) ? ifc.gwaddr : '0.0.0.0'
-				);
-
-				for (var i = 0; i < ifc.dns.length; i++)
-				{
-					s += String.format(
-						'<strong><%:DNS%> %d: </strong>%s<br />',
-						i + 1, ifc.dns[i]
-					);
-				}
+			var us = document.getElementById('upstream_status_table');
 
-				if (ifc.expires > -1)
-				{
-					s += String.format(
-						'<strong><%:Expires%>: </strong>%t<br />',
-						ifc.expires
-					);
-				}
+			while (us.lastElementChild)
+				us.removeChild(us.lastElementChild);
 
-				if (ifc.uptime > 0)
-				{
-					s += String.format(
-						'<strong><%:Connected%>: </strong>%t<br />',
-						ifc.uptime
-					);
-				}
+			var wan_list = info.wan || [];
 
-				ss.innerHTML = String.format('<small>%s</small>', s);
-				si.innerHTML = String.format(
-					'<img src="<%=resource%>/icons/ethernet.png" />' +
-					'<br /><small><a href="%s">%s</a></small>',
-						ifc.link, ifc.ifname
-				);
-			}
-			else
-			{
-				si.innerHTML = '<img src="<%=resource%>/icons/ethernet_disabled.png" /><br /><small>?</small>';
-				ss.innerHTML = '<em><%:Not connected%></em>';
+			for (var i = 0; i < wan_list.length; i++) {
+				var ifc = wan_list[i];
+
+				us.appendChild(renderBox(
+					'<%:IPv4 Upstream%>',
+					(ifc.ifname && ifc.proto != 'none'),
+					[ E('div', {}, renderBadge(
+					'<%=resource%>' + '/icons/%s.png'.format((ifc && ifc.type) ? ifc.type : 'ethernet_disabled'), null,
+					'<%:Device%>', ifc ? (ifc.name || ifc.ifname || '-') : '-',
+					'<%:MAC-Address%>', (ifc && ifc.ether) ? ifc.mac : null)) ],
+					'<%:Protocol%>', ifc.i18n || E('em', '<%:Not connected%>'),
+					'<%:Address%>', (ifc.ipaddr) ? ifc.ipaddr : '0.0.0.0',
+					'<%:Netmask%>', (ifc.netmask && ifc.netmask != ifc.ipaddr) ? ifc.netmask : '255.255.255.255',
+					'<%:Gateway%>', (ifc.gwaddr) ? ifc.gwaddr : '0.0.0.0',
+					'<%:DNS%> 1', (ifc.dns) ? ifc.dns[0] : null,
+					'<%:DNS%> 2', (ifc.dns) ? ifc.dns[1] : null,
+					'<%:DNS%> 3', (ifc.dns) ? ifc.dns[2] : null,
+					'<%:DNS%> 4', (ifc.dns) ? ifc.dns[3] : null,
+					'<%:DNS%> 5', (ifc.dns) ? ifc.dns[4] : null,
+					'<%:Expires%>', (ifc.expires > -1) ? '%t'.format(ifc.expires) : null,
+					'<%:Connected%>', (ifc.uptime > 0) ? '%t'.format(ifc.uptime) : null));
 			}
 
 			<% if has_ipv6 then %>
-			var si6 = document.getElementById('wan6_i');
-			var ss6 = document.getElementById('wan6_s');
-			var ifc6 = info.wan6;
-
-			if (ifc6 && ifc6.ifname && ifc6.proto != 'none')
-			{
-				var s = String.format(
-					'<strong><%:Type%>: </strong>%s%s<br />',
-						ifc6.proto, (ifc6.ip6prefix) ? '-pd' : ''
-				);
-				
-				if (!ifc6.ip6prefix)
-				{
-					s += String.format(
-						'<strong><%:Address%>: </strong>%s<br />',
-						(ifc6.ip6addr) ? ifc6.ip6addr : '::'
-					);
-				}
-				else
-				{
-					s += String.format(
-						'<strong><%:Prefix Delegated%>: </strong>%s<br />',
-						ifc6.ip6prefix
-					);
-					if (ifc6.ip6addr)
-					{
-						s += String.format(
-							'<strong><%:Address%>: </strong>%s<br />',
-							ifc6.ip6addr
-						);
-					}
-				}
-
-				s += String.format(
-					'<strong><%:Gateway%>: </strong>%s<br />',
-						(ifc6.gw6addr) ? ifc6.gw6addr : '::'
-				);
-
-				for (var i = 0; i < ifc6.dns.length; i++)
-				{
-					s += String.format(
-						'<strong><%:DNS%> %d: </strong>%s<br />',
-						i + 1, ifc6.dns[i]
-					);
-				}
+			var wan6_list = info.wan6 || [];
 
-				if (ifc6.uptime > 0)
-				{
-					s += String.format(
-						'<strong><%:Connected%>: </strong>%t<br />',
-						ifc6.uptime
-					);
-				}
+			for (var i = 0; i < wan6_list.length; i++) {
+				var ifc6 = wan6_list[i];
 
-				ss6.innerHTML = String.format('<small>%s</small>', s);
-				si6.innerHTML = String.format(
-					'<img src="<%=resource%>/icons/ethernet.png" />' +
-					'<br /><small><a href="%s">%s</a></small>',
-						ifc6.link, ifc6.ifname
-				);
-			}
-			else
-			{
-				si6.innerHTML = '<img src="<%=resource%>/icons/ethernet_disabled.png" /><br /><small>?</small>';
-				ss6.innerHTML = '<em><%:Not connected%></em>';
+				us.appendChild(renderBox(
+					'<%:IPv6 Upstream%>',
+					(ifc6.ifname && ifc6.proto != 'none'),
+					[ E('div', {}, renderBadge(
+						'<%=resource%>/icons/%s.png'.format(ifc6.type || 'ethernet_disabled'), null,
+						'<%:Device%>', ifc6 ? (ifc6.name || ifc6.ifname || '-') : '-',
+						'<%:MAC-Address%>', (ifc6 && ifc6.ether) ? ifc6.mac : null)) ],
+					'<%:Protocol%>', ifc6.i18n ? (ifc6.i18n + (ifc6.proto === 'dhcp' && ifc6.ip6prefix ? '-PD' : '')) : E('em', '<%:Not connected%>'),
+					'<%:Prefix Delegated%>', ifc6.ip6prefix,
+					'<%:Address%>', (ifc6.ip6prefix) ? (ifc6.ip6addr || null) : (ifc6.ipaddr || '::'),
+					'<%:Gateway%>', (ifc6.gw6addr) ? ifc6.gw6addr : '::',
+					'<%:DNS%> 1', (ifc6.dns) ? ifc6.dns[0] : null,
+					'<%:DNS%> 2', (ifc6.dns) ? ifc6.dns[1] : null,
+					'<%:DNS%> 3', (ifc6.dns) ? ifc6.dns[2] : null,
+					'<%:DNS%> 4', (ifc6.dns) ? ifc6.dns[3] : null,
+					'<%:DNS%> 5', (ifc6.dns) ? ifc6.dns[4] : null,
+					'<%:Connected%>', (ifc6.uptime > 0) ? '%t'.format(ifc6.uptime) : null));
 			}
 			<% end %>
 
@@ -760,20 +762,11 @@
 	<legend><%:Network%></legend>
 
 	<table width="100%" cellspacing="10">
-		<tr><td width="33%" style="vertical-align:top"><%:IPv4 WAN Status%></td><td>
-			<table><tr>
-				<td id="wan4_i" style="width:16px; text-align:center; padding:3px"><img src="<%=resource%>/icons/ethernet_disabled.png" /><br /><small>?</small></td>
-				<td id="wan4_s" style="vertical-align:middle; padding: 3px"><em><%:Collecting data...%></em></td>
-			</tr></table>
-		</td></tr>
-		<% if has_ipv6 then %>
-		<tr><td width="33%" style="vertical-align:top"><%:IPv6 WAN Status%></td><td>
-			<table><tr>
-				<td id="wan6_i" style="width:16px; text-align:center; padding:3px"><img src="<%=resource%>/icons/ethernet_disabled.png" /><br /><small>?</small></td>
-				<td id="wan6_s" style="vertical-align:middle; padding: 3px"><em><%:Collecting data...%></em></td>
-			</tr></table>
-		</td></tr>
-		<% end %>
+		<tr>
+			<div id="upstream_status_table" class="network-status-table">
+				<p><em><%:Collecting data...%></em></p>
+			</div>
+		</tr>
 		<tr><td width="33%"><%:Online Users%></td><td id="userinfo">0</td></tr>
 		<tr><td width="33%"><%:Active Connections%></td><td id="conns">-</td></tr>
 	</table>
